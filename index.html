<!DOCTYPE html>
<html lang="pt-BR" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plano de Estudos Focado - CRC 2025/2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = { darkMode: 'class' }
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .progress-bar-animated { transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
        .card-item { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .card-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .dark .card-item:hover {
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.2), 0 4px 6px -4px rgb(0 0 0 / 0.2);
        }
        .summary-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.7s cubic-bezier(0.4, 0, 0.2, 1), padding 0.7s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .chevron-transition { transition: transform 0.3s ease-in-out; }
    </style>
</head>
<body class="bg-slate-100 dark:bg-gray-900 text-slate-800 dark:text-slate-200 min-h-screen">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-3xl">
        <header class="mb-8 flex items-center justify-between gap-4">
            <div class="flex items-center gap-4">
                <img src="https://raw.githubusercontent.com/Halexandre1/PDF_PRO/main/HERBERT.jpg" alt="Log√≥tipo" class="w-12 h-12 rounded-full object-cover border-2 border-indigo-200 dark:border-indigo-800">
                <div>
                    <h1 class="text-2xl md:text-3xl font-bold text-slate-800 dark:text-white text-left">Plano de Estudos Focado</h1>
                    <p class="text-slate-500 dark:text-slate-400 text-sm text-left">Resumos revisados para o Exame CRC 2025/2</p>
                </div>
            </div>
            <button id="themeToggle" class="flex-shrink-0 w-10 h-10 rounded-full bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 flex items-center justify-center transition-transform hover:scale-110 shadow-md" aria-label="Alternar tema">üåô</button>
        </header>

        <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 mb-10">
            <h2 class="text-xl font-bold text-slate-700 dark:text-slate-200 mb-4">Seu Progresso Geral</h2>
            <div class="w-full bg-slate-200 dark:bg-slate-700 rounded-full h-5 overflow-hidden">
                <div id="progressBar" class="bg-gradient-to-r from-sky-500 to-indigo-500 h-5 text-xs font-bold text-white text-center p-0.5 leading-none rounded-full progress-bar-animated" style="width: 0%">
                    <span id="progressText">0%</span>
                </div>
            </div>
            <p id="summaryText" class="text-center mt-4 text-slate-600 dark:text-slate-400">Marque os t√≥picos abaixo para come√ßar.</p>
        </div>

        <div id="subjectsContainer" class="space-y-4"></div>
        
        <footer id="signature" class="text-center mt-8 text-sm text-slate-500 dark:text-slate-400"></footer>
    </div>

    <script>
    /**
     * @file Plano de Estudos Focado - Vers√£o Refatorada
     * @author HAlexandre
     * @version 2.1.0
     */

    // --- M√≥dulo de Dados e Estado ---
    const AppState = {
        STORAGE_KEY: 'crc_study_progress_focused_v4',
        subjects: [
            { name: "CPC 00 - Estrutura Conceitual (Fundamentos)", completed: false, expanded: false, summary: `<h4>O que √© o CPC 00?</h4><p>√â a "constitui√ß√£o" da contabilidade, a base para todas as outras normas.</p><h4>Caracter√≠sticas Qualitativas Fundamentais</h4><ol class="list-decimal list-inside space-y-2 mt-2"><li><strong>Relevante:</strong> Capaz de fazer a diferen√ßa nas decis√µes (valor preditivo e/ou confirmat√≥rio).</li><li><strong>Representa√ß√£o Fidedigna:</strong> A informa√ß√£o deve ser <strong>completa, neutra e livre de erro</strong>.</li></ol><div class="bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 p-3 mt-4 rounded"><h4>Dica de Prova (FGV):</h4><p>Omitir uma d√≠vida para n√£o assustar investidores fere a <strong>Representa√ß√£o Fidedigna</strong>.</p></div>`},
            { name: "CPC 00 - Estrutura Conceitual (Melhoria e Elementos)", completed: false, expanded: false, summary: `<h4>Caracter√≠sticas Qualitativas de Melhoria</h4><p>Elas "turbinam" as caracter√≠sticas fundamentais:</p><ul class="list-disc list-inside space-y-2 mt-2"><li><strong>Comparabilidade:</strong> Permite comparar a empresa com ela mesma ou com outras.</li><li><strong>Verificabilidade:</strong> Diferentes observadores chegariam √† mesma conclus√£o.</li><li><strong>Tempestividade:</strong> A informa√ß√£o deve chegar a tempo de ser √∫til.</li><li><strong>Compreensibilidade:</strong> A informa√ß√£o deve ser clara e concisa.</li></ul><h4>Elementos das Demonstra√ß√µes</h4><ul class="list-disc list-inside space-y-2 mt-2"><li><strong>Ativo:</strong> Um <strong>recurso econ√¥mico presente controlado</strong> pela entidade.</li><li><strong>Passivo:</strong> Uma <strong>obriga√ß√£o presente</strong> de transferir um recurso econ√¥mico.</li></ul><div class="bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 p-3 mt-4 rounded"><h4>Aten√ß√£o FGV: Restri√ß√£o do Custo</h4><p>O custo de gerar a informa√ß√£o n√£o pode ser maior que o benef√≠cio que ela proporciona.</p></div>`},
            { name: "Despesas Antecipadas", completed: false, expanded: false, summary: `<h4>O que √© uma Despesa Antecipada?</h4><p>√â um <strong>ATIVO</strong> que representa um pagamento feito por um bem ou servi√ßo que ser√° consumido no futuro. √â um <strong>direito</strong> de receber esse servi√ßo/bem.</p><h4>Apropria√ß√£o: A M√°gica da Compet√™ncia</h4><p>O valor pago fica no Ativo e √© transferido para a Despesa (no resultado) √† medida que o tempo passa e o benef√≠cio √© consumido. Isso se chama <strong>apropria√ß√£o</strong>.</p><div class="bg-slate-100 dark:bg-slate-700/50 border-l-4 border-indigo-500 p-3 mt-3 rounded"><strong>Exemplo (Aluguel):</strong> Em 01/Dez, paga-se R$ 30.000 por 3 meses de aluguel.<br><strong>1. No Pagamento:</strong> D - Alugu√©is a Apropriar (Ativo) / C - Caixa (Ativo) R$ 30.000<br><strong>2. Na Apropria√ß√£o (31/Dez):</strong> D - Despesa de Aluguel (Resultado) / C - Alugu√©is a Apropriar (Ativo) R$ 10.000</div>`},
            { name: "CPC 16 - Estoques (Mensura√ß√£o)", completed: false, expanded: false, summary: `<h4>A Regra de Ouro: Custo vs. Valor Realiz√°vel L√≠quido</h4><p>O estoque deve ser registrado no balan√ßo pelo <strong>valor de custo ou pelo valor realiz√°vel l√≠quido (VRL), dos dois o menor</strong>.</p><ul class="list-disc list-inside space-y-2 mt-2"><li><strong>Custo:</strong> Pre√ßo + frete + impostos n√£o recuper√°veis, etc.</li><li><strong>Valor Realiz√°vel L√≠quido (VRL):</strong> Pre√ßo de Venda Estimado <strong>-</strong> Gastos para Vender.</li></ul><div class="bg-slate-100 dark:bg-slate-700/50 border-l-4 border-indigo-500 p-3 mt-3 rounded"><strong>Exemplo:</strong> Custo = R$ 1.000. Venda estimada por R$ 900, com comiss√£o de 10% (R$ 90).<br>VRL = R$ 900 - R$ 90 = R$ 810. Como VRL < Custo, registra-se uma <strong>Perda de R$ 190</strong>.</div>`},
            { name: "CPC 16 - Estoques (Crit√©rios de Custeio)", completed: false, expanded: false, summary: `<h4>Crit√©rios de Custeio (PEPS, M√©dia)</h4><p>M√©todos para calcular o Custo da Mercadoria Vendida (CMV).</p><ol class="list-decimal list-inside space-y-2 mt-2"><li><strong>PEPS (Primeiro que Entra, Primeiro que Sai):</strong> Assume que os primeiros itens comprados s√£o os primeiros vendidos.</li><li><strong>M√©dia Ponderada M√≥vel:</strong> A cada compra, recalcula-se o custo m√©dio unit√°rio.</li></ol><div class="bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 p-3 mt-4 rounded"><h4>Aten√ß√£o FGV: UEPS √© Proibido!</h4><p>O m√©todo <strong>UEPS (√öltimo que Entra, Primeiro que Sai)</strong> √© <strong>PROIBIDO</strong> pelo CPC 16 para fins de balan√ßo, mas pode aparecer em quest√µes para fins de compara√ß√£o.</p></div>`},
            { name: "CPC 27 - Ativo Imobilizado (Custo de Aquisi√ß√£o)", completed: false, expanded: false, summary: `<h4>O que comp√µe o Custo de um Imobilizado?</h4><p>Todos os gastos necess√°rios para colocar o bem em condi√ß√µes de uso.</p><h4>Itens que ENTRAM no Custo:</h4><ul class="list-disc list-inside"><li>Pre√ßo de compra (menos descontos).</li><li>Impostos <strong>n√£o recuper√°veis</strong>.</li><li>Frete, instala√ß√£o, testes.</li><li>Custos de desmontagem futura (obriga√ß√£o).</li></ul><div class="bg-slate-100 dark:bg-slate-700/50 border-l-4 border-indigo-500 p-3 mt-3 rounded"><strong>Exemplo:</strong> M√°quina R$500k, ICMS R$50k (R$30k recuper√°vel), Frete R$15k, Instala√ß√£o R$25k. Custo = 500.000 + (50.000 - 30.000) + 15.000 + 25.000 = <strong>R$ 560.000</strong>.</div>`},
            { name: "CPC 27 - Ativo Imobilizado (P√≥s-Aquisi√ß√£o)", completed: false, expanded: false, summary: `<h4>Deprecia√ß√£o: O Reconhecimento do Uso</h4><p>√â a aloca√ß√£o do custo de um ativo ao longo de sua <strong>vida √∫til econ√¥mica</strong>.</p><p><strong>Valor Depreci√°vel = Custo - Valor Residual</strong></p><p>A deprecia√ß√£o cessa quando o ativo √© classificado como Mantido para Venda ou quando √© baixado.</p><h4>Gastos Subsequentes</h4><ul class="list-disc list-inside"><li><strong>Capitalizados (viram ativo):</strong> Aumentam a vida √∫til, a capacidade ou melhoram a qualidade do produto.</li><li><strong>Despesa:</strong> Gastos de manuten√ß√£o e reparo do dia a dia.</li></ul>`},
            { name: "CPC 04 - Ativo Intang√≠vel", completed: false, expanded: false, summary: `<h4>O que √© um Ativo Intang√≠vel?</h4><p>Um ativo n√£o monet√°rio, <strong>sem subst√¢ncia f√≠sica</strong>, que seja <strong>identific√°vel</strong> (pode ser vendido ou separado da empresa) e <strong>controlado</strong>.</p><h4>Pesquisa vs. Desenvolvimento</h4><ul class="list-disc list-inside"><li><strong>Fase de Pesquisa:</strong> Gastos para obter novo conhecimento. √â <strong>SEMPRE</strong> considerado <strong>despesa</strong>.</li><li><strong>Fase de Desenvolvimento:</strong> Aplica√ß√£o da pesquisa para criar um novo produto/processo. Pode ser <strong>capitalizado (virar ativo)</strong> se atender a 6 crit√©rios rigorosos (viabilidade t√©cnica, inten√ß√£o de usar/vender, etc.).</li></ul><div class="bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 p-3 mt-4 rounded"><p><strong>Dica FGV:</strong> Se a quest√£o n√£o deixar claro que os 6 crit√©rios do desenvolvimento foram atendidos, considere como despesa.</p></div>`},
            { name: "Redu√ß√£o ao Valor Recuper√°vel (Impairment - CPC 01)", completed: false, expanded: false, summary: `<h4>O que √© Impairment?</h4><p>√â o teste para garantir que um ativo n√£o est√° registrado por um valor maior do que ele pode ser recuperado.</p><p>Compara-se o <strong>Valor Cont√°bil</strong> com o <strong>Valor Recuper√°vel</strong>.</p><p><strong>Valor Recuper√°vel = O MAIOR valor entre o Valor em Uso e o Valor Justo L√≠quido de Venda.</strong></p><div class="bg-slate-100 dark:bg-slate-700/50 border-l-4 border-indigo-500 p-3 mt-3 rounded"><strong>Exemplo:</strong> M√°quina com Valor Cont√°bil de R$ 100.000. Valor em Uso = R$ 95.000. Valor Justo L√≠quido = R$ 90.000.<br>Valor Recuper√°vel = Maior(95k, 90k) = R$ 95.000. Como 100k > 95k, registra-se uma <strong>Perda por Impairment de R$ 5.000</strong>.</div>`},
            { name: "Deb√™ntures", completed: false, expanded: false, summary: `<h4>O que s√£o Deb√™ntures?</h4><p>S√£o t√≠tulos de d√≠vida emitidos por empresas (n√£o financeiras) para captar recursos. A empresa pega dinheiro emprestado e paga juros aos investidores (debenturistas).</p><h4>Contabiliza√ß√£o (Na empresa que emitiu)</h4><ul class="list-disc list-inside"><li><strong>Emiss√£o:</strong> D - Caixa/Bancos (Ativo) / C - Deb√™ntures a Pagar (Passivo)</li><li><strong>Apropria√ß√£o dos Juros:</strong> D - Despesa Financeira (Resultado) / C - Juros a Pagar (Passivo) ou Deb√™ntures a Pagar (se os juros forem incorporados ao principal).</li></ul>`},
            { name: "Conta Capital Social", completed: false, expanded: false, summary: `<h4>O que √© Capital Social?</h4><p>Representa o investimento inicial dos s√≥cios na empresa. Fica no Patrim√¥nio L√≠quido.</p><h4>Subscri√ß√£o vs. Integraliza√ß√£o</h4><ul class="list-disc list-inside"><li><strong>Subscri√ß√£o:</strong> √â a promessa do s√≥cio de investir. Lan√ßamento: D - Capital a Integralizar (Conta Redutora do PL) / C - Capital Subscrito (PL).</li><li><strong>Integraliza√ß√£o:</strong> √â a entrega efetiva do recurso (dinheiro, bens). Lan√ßamento: D - Caixa/Bens (Ativo) / C - Capital a Integralizar (PL).</li></ul>`},
            { name: "DRE - Demonstra√ß√£o do Resultado", completed: false, expanded: false, summary: `<h4>Estrutura da DRE</h4><p>Mostra o desempenho da empresa em um per√≠odo. A estrutura b√°sica √©:</p><ol class="list-decimal list-inside"><li>Receita Bruta</li><li>(-) Dedu√ß√µes (Devolu√ß√µes, Abatimentos, Impostos sobre Vendas)</li><li><strong>= Receita L√≠quida</strong></li><li>(-) Custo (CMV, CSP, CPV)</li><li><strong>= Lucro Bruto</strong></li><li>(-) Despesas Operacionais (Vendas, Administrativas)</li><li>(+) Outras Receitas/Despesas</li><li><strong>= Lucro Antes do IR/CSLL</strong></li><li>(-) Provis√£o para IR/CSLL</li><li><strong>= Lucro L√≠quido do Exerc√≠cio</strong></li></ol>`},
            { name: "Destina√ß√£o do Lucro", completed: false, expanded: false, summary: `<h4>Ordem de Destina√ß√£o do Lucro L√≠quido</h4><p>O lucro apurado na DRE vai para o PL e tem uma ordem de destina√ß√£o:</p><ol class="list-decimal list-inside"><li><strong>1¬∫:</strong> Absor√ß√£o de Preju√≠zos Acumulados.</li><li><strong>2¬∫:</strong> Constitui√ß√£o da Reserva Legal (5% do Lucro L√≠quido, limitada a 20% do Capital Social).</li><li><strong>3¬∫:</strong> Constitui√ß√£o de outras reservas (Estatut√°ria, Conting√™ncias, etc.).</li><li><strong>4¬∫:</strong> Pagamento de Dividendos (a parte dos s√≥cios).</li></ol><div class="bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 p-3 mt-4 rounded"><p><strong>Dica FGV:</strong> A base de c√°lculo da Reserva Legal √© o Lucro L√≠quido do Exerc√≠cio <strong>AP√ìS</strong> a compensa√ß√£o de preju√≠zos.</p></div>`},
            { name: "DFC - Demonstra√ß√£o do Fluxo de Caixa (CPC 03)", completed: false, expanded: false, summary: `<h4>O que √© a DFC?</h4><p>Mostra as entradas e sa√≠das de caixa, classificadas em tr√™s atividades:</p><ul class="list-disc list-inside"><li><strong>Operacionais:</strong> Atividades principais da empresa (vendas, pagto. a fornecedores, sal√°rios).</li><li><strong>Investimento:</strong> Compra e venda de ativos de longo prazo (imobilizado, intang√≠veis).</li><li><strong>Financiamento:</strong> Transa√ß√µes com s√≥cios e credores (empr√©stimos, aumento de capital, dividendos).</li></ul><h4>M√©todos (para Atividades Operacionais)</h4><ul class="list-disc list-inside"><li><strong>Direto:</strong> Mostra as principais classes de recebimentos e pagamentos (ex: Recebido de clientes, Pago a fornecedores).</li><li><strong>Indireto:</strong> Parte do Lucro L√≠quido e o ajusta por itens que n√£o afetam o caixa (deprecia√ß√£o, varia√ß√£o em contas a receber/pagar).</li></ul>`},
            { name: "Coligadas e Controladas (MEP - CPC 18)", completed: false, expanded: false, summary: `<h4>O que √© o MEP?</h4><p>O M√©todo de Equival√™ncia Patrimonial (MEP) √© usado para avaliar investimentos em <strong>coligadas</strong> (influ√™ncia significativa, geralmente 20% ou mais do capital votante) e <strong>controladas</strong>.</p><h4>Como funciona?</h4><p>O valor do investimento no balan√ßo da investidora √© ajustado para refletir a sua participa√ß√£o no resultado da investida.</p><div class="bg-slate-100 dark:bg-slate-700/50 border-l-4 border-indigo-500 p-3 mt-3 rounded"><strong>Exemplo:</strong> Empresa A compra 30% da Empresa B. No ano, a Empresa B tem um lucro de R$ 100.000.<br>A Empresa A faz o lan√ßamento: D - Investimentos (Ativo) / C - Receita de Equival√™ncia Patrimonial (Resultado) no valor de R$ 30.000 (30% de 100.000).</div>`},
            { name: "Coligadas e Controladas (Consolida√ß√£o - CPC 36)", completed: false, expanded: false, summary: `<h4>O que √© Consolida√ß√£o?</h4><p>√â a apresenta√ß√£o das demonstra√ß√µes de uma controladora e suas controladas como se fossem uma √∫nica entidade econ√¥mica. √â obrigat√≥ria quando h√° <strong>controle</strong> (poder sobre a investida).</p><h4>Procedimentos B√°sicos</h4><ul class="list-disc list-inside"><li>Somam-se os saldos de ativos, passivos, PL, receitas e despesas da controladora e controladas.</li><li><strong>Eliminam-se</strong> os saldos de transa√ß√µes entre as empresas do grupo (ex: vendas da controladora para a controlada, empr√©stimos entre elas).</li><li><strong>Elimina-se</strong> o saldo da conta de "Investimentos" da controladora contra o Patrim√¥nio L√≠quido da controlada.</li></ul>`},
            { name: "Arrendamento Mercantil (CPC 06 - IFRS 16)", completed: false, expanded: false, summary: `<h4>Vis√£o do Arrendat√°rio (quem aluga)</h4><p>A regra geral √© que <strong>TODO</strong> arrendamento (aluguel) gera o reconhecimento de um ativo e um passivo no balan√ßo.</p><ul class="list-disc list-inside"><li><strong>No in√≠cio:</strong> D - Ativo de Direito de Uso / C - Passivo de Arrendamento.</li><li><strong>Mensalmente:</strong> Apropria-se a despesa de juros do passivo e a despesa de deprecia√ß√£o do ativo.</li></ul><h4>Exce√ß√µes (tratadas como despesa linear)</h4><ul class="list-disc list-inside"><li>Contratos de <strong>curto prazo</strong> (at√© 12 meses).</li><li>Contratos de <strong>baixo valor</strong> (ex: aluguel de um notebook).</li></ul>`},
            { name: "Ativo N√£o Circulante Mantido para Venda (CPC 31)", completed: false, expanded: false, summary: `<h4>O que √©?</h4><p>Um ativo (ou grupo de ativos) cuja recupera√ß√£o do valor se dar√° pela <strong>venda</strong> e n√£o pelo uso cont√≠nuo.</p><h4>Regras Principais</h4><ul class="list-disc list-inside"><li><strong>Classifica√ß√£o:</strong> Deve estar dispon√≠vel para venda imediata e a venda deve ser altamente prov√°vel.</li><li><strong>Mensura√ß√£o:</strong> √â avaliado pelo <strong>menor valor</strong> entre o seu valor cont√°bil e o seu valor justo l√≠quido das despesas de venda.</li><li><strong>Deprecia√ß√£o:</strong> A partir do momento em que √© classificado como mantido para venda, o ativo <strong>deixa de ser depreciado</strong>.</li></ul>`},
            { name: "Propriedades para Investimento (CPC 28)", completed: false, expanded: false, summary: `<h4>O que √©?</h4><p>√â uma propriedade (terreno ou edif√≠cio) mantida para obter rendas (aluguel) ou para valoriza√ß√£o do capital, e <strong>n√£o para uso</strong> na produ√ß√£o ou para venda no curso ordin√°rio do neg√≥cio.</p><h4>Mensura√ß√£o P√≥s-Reconhecimento</h4><p>A empresa pode escolher uma de duas pol√≠ticas:</p><ul class="list-disc list-inside"><li><strong>M√©todo do Custo:</strong> Igual ao Imobilizado (CPC 27), com deprecia√ß√£o.</li><li><strong>M√©todo do Valor Justo:</strong> O im√≥vel √© reavaliado ao seu valor de mercado a cada balan√ßo, e a varia√ß√£o (ganho ou perda) vai <strong>diretamente para o resultado do per√≠odo</strong>. N√£o h√° deprecia√ß√£o neste m√©todo.</li></ul>`},
            { name: "Ajuste a Valor Presente (AVP - CPC 12)", completed: false, expanded: false, summary: `<h4>Para que serve?</h4><p>O AVP serve para registrar ativos e passivos de <strong>longo prazo</strong> pelo seu valor "de hoje", descontando os juros embutidos nas transa√ß√µes a prazo. Ele reconhece o valor do dinheiro no tempo.</p><h4>Quando aplicar?</h4><p>√â obrigat√≥rio para elementos do ativo e do passivo com vencimento ou realiza√ß√£o a <strong>longo prazo</strong>. Para o <strong>curto prazo</strong>, s√≥ √© necess√°rio se o efeito dos juros for relevante.</p><div class="bg-slate-100 dark:bg-slate-700/50 border-l-4 border-indigo-500 p-3 mt-3 rounded"><strong>Exemplo:</strong> Venda de R$ 12.100 a ser recebida em 2 anos, com juros de 10% a.a. O valor presente √© R$ 10.000. A receita de venda registrada hoje √© R$ 10.000. A diferen√ßa de R$ 2.100 ser√° reconhecida como receita financeira ao longo dos 2 anos.</div>`},
            { name: "Mudan√ßa nas Taxas de C√¢mbio (CPC 02)", completed: false, expanded: false, summary: `<h4>Moeda Funcional</h4><p>√â a moeda do principal ambiente econ√¥mico em que a entidade opera. As transa√ß√µes s√£o inicialmente registradas na moeda funcional.</p><h4>Convers√£o de Transa√ß√µes em Moeda Estrangeira</h4><ul class="list-disc list-inside"><li><strong>Na data da transa√ß√£o:</strong> Converte-se pela taxa de c√¢mbio do dia.</li><li><strong>No balan√ßo:</strong> Itens <strong>monet√°rios</strong> (caixa, contas a receber/pagar) s√£o atualizados pela taxa de c√¢mbio de fechamento. Itens <strong>n√£o monet√°rios</strong> (imobilizado, estoque) mant√™m a taxa da data da transa√ß√£o.</li></ul><div class="bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 p-3 mt-4 rounded"><p>As varia√ß√µes cambiais de itens monet√°rios s√£o reconhecidas no <strong>resultado do per√≠odo</strong>.</p></div>`},
            { name: "Pol√≠ticas Cont√°beis, Estimativas e Erros (CPC 23)", completed: false, expanded: false, summary: `<h4>Diferen√ßas Cruciais</h4><ul class="list-disc list-inside"><li><strong>Pol√≠tica Cont√°bil:</strong> Princ√≠pio, base, conven√ß√£o. Ex: Mudar de PEPS para M√©dia Ponderada. A aplica√ß√£o √© <strong>retrospectiva</strong> (corrige os balan√ßos passados como se a nova pol√≠tica sempre tivesse sido usada).</li><li><strong>Mudan√ßa de Estimativa:</strong> Ajuste com base em novas informa√ß√µes. Ex: Mudar a vida √∫til de um ativo de 5 para 8 anos. A aplica√ß√£o √© <strong>prospectiva</strong> (afeta apenas o presente e o futuro, n√£o mexe no passado).</li><li><strong>Retifica√ß√£o de Erro:</strong> Erros matem√°ticos, aplica√ß√£o incorreta de pol√≠ticas. A aplica√ß√£o √© <strong>retrospectiva</strong> (corrige os balan√ßos passados).</li></ul>`},
            { name: "DVA - Demonstra√ß√£o do Valor Adicionado (CPC 09)", completed: false, expanded: false, summary: `<h4>O que √© a DVA?</h4><p>Mostra a riqueza gerada pela empresa e como essa riqueza foi distribu√≠da entre os que ajudaram a cri√°-la (empregados, governo, acionistas, etc.). √â obrigat√≥ria para companhias abertas.</p><h4>Estrutura Simplificada</h4><ol class="list-decimal list-inside"><li><strong>1. Gera√ß√£o da Riqueza:</strong> Receitas - Insumos Adquiridos de Terceiros.</li><li><strong>2. Distribui√ß√£o da Riqueza:</strong> Pessoal (sal√°rios), Impostos, Juros e Alugu√©is (remunera√ß√£o de capital de terceiros), Lucros Retidos e Dividendos (remunera√ß√£o de capital pr√≥prio).</li></ol><div class="bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 p-3 mt-4 rounded"><p>O <strong>Valor Adicionado Total a Distribuir</strong> (item 1) deve ser <strong>igual</strong> √† <strong>Distribui√ß√£o da Riqueza</strong> (item 2).</p></div>`},
            { name: "DMPL - Demonstra√ß√£o das Muta√ß√µes do PL", completed: false, expanded: false, summary: `<h4>O que √© a DMPL?</h4><p>Mostra todas as altera√ß√µes que ocorreram no Patrim√¥nio L√≠quido durante o per√≠odo. √â mais completa que a DLPA (Demonstra√ß√£o de Lucros ou Preju√≠zos Acumulados).</p><h4>Principais Colunas</h4><p>Geralmente possui colunas para cada conta do PL:</p><ul class="list-disc list-inside"><li>Capital Social</li><li>Reservas de Capital</li><li>Reservas de Lucros</li><li>Ajustes de Avalia√ß√£o Patrimonial</li><li>Lucros/Preju√≠zos Acumulados</li></ul><p>As linhas mostram os eventos que mudaram esses saldos, como aumentos de capital, lucro do per√≠odo, distribui√ß√£o de dividendos, etc.</p>`},
            { name: "Provis√µes (CPC 25)", completed: false, expanded: false, summary: `<h4>O que √© uma Provis√£o?</h4><p>Uma provis√£o √© um <strong>passivo de prazo ou valor incerto</strong>.</p><h4>As 3 Condi√ß√µes para Reconhecimento</h4><p>Para registrar uma provis√£o, TODAS as tr√™s condi√ß√µes devem ser atendidas:</p><ol class="list-decimal list-inside space-y-2 mt-2"><li><strong>Obriga√ß√£o Presente:</strong> Resultante de um evento passado.</li><li><strong>Sa√≠da de Recursos Prov√°vel:</strong> Chance > 50%.</li><li><strong>Estimativa Confi√°vel:</strong> O valor pode ser estimado com seguran√ßa.</li></ol><div class="bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 p-3 mt-4 rounded"><h4>Dica de Prova (FGV): Prov√°vel vs. Poss√≠vel vs. Remoto</h4><ul class="list-disc list-inside"><li><strong>Prov√°vel:</strong> >50% chance. <strong>Registra a Provis√£o</strong>.</li><li><strong>Poss√≠vel:</strong> Chance m√©dia. <strong>Divulga em Notas Explicativas</strong> (Passivo Contingente).</li><li><strong>Remoto:</strong> Chance baixa. N√£o faz nada.</li></ul></div>`},
        ],

        load() {
            const saved = localStorage.getItem(this.STORAGE_KEY);
            if (saved) {
                const savedSubjects = JSON.parse(saved);
                // Mescla os dados salvos com a lista atual para garantir que novos t√≥picos sejam adicionados
                this.subjects.forEach(subject => {
                    const savedState = savedSubjects.find(s => s.name === subject.name);
                    if (savedState) {
                        subject.completed = savedState.completed;
                        subject.expanded = savedState.expanded;
                    }
                });
            }
        },

        save() {
            localStorage.setItem(this.STORAGE_KEY, JSON.stringify(this.subjects));
        }
    };

    // --- M√≥dulo de UI ---
    const UI = {
        dom: {
            subjectsContainer: document.getElementById('subjectsContainer'),
            progressBar: document.getElementById('progressBar'),
            progressText: document.getElementById('progressText'),
            summaryText: document.getElementById('summaryText'),
            themeToggle: document.getElementById('themeToggle'),
            signature: document.getElementById('signature'),
        },

        icons: {
            pending: `<svg class="h-7 w-7 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>`,
            completed: `<svg class="h-7 w-7 text-indigo-600" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>`,
            chevron: `<svg class="h-6 w-6 chevron-transition text-slate-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg>`
        },

        renderSubjects() {
            this.dom.subjectsContainer.innerHTML = '';
            AppState.subjects.forEach((subject, index) => {
                const subjectElement = this.createSubjectElement(subject, index);
                this.dom.subjectsContainer.appendChild(subjectElement);
            });
            this.updateProgress();
        },

        createSubjectElement(subject, index) {
            const el = document.createElement('div');
            el.className = `card-item bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden`;
            el.dataset.index = index;

            el.innerHTML = `
                <div class="card-header flex items-center justify-between p-4 cursor-pointer ${subject.completed ? 'bg-slate-50 dark:bg-slate-700/50' : ''}">
                    <div class="flex items-center">
                        <div class="checkbox-container cursor-pointer p-1">
                            ${subject.completed ? this.icons.completed : this.icons.pending}
                        </div>
                        <span class="ml-3 text-lg font-medium ${subject.completed ? 'line-through text-slate-400 dark:text-slate-500' : 'text-slate-700 dark:text-slate-200'}">
                            ${subject.name}
                        </span>
                    </div>
                    <div class="chevron-container ${subject.expanded ? 'rotate-180' : ''}">
                        ${this.icons.chevron}
                    </div>
                </div>
                <div class="summary-content ${subject.expanded ? 'expanded' : ''}">
                    <div class="p-5 pt-2 border-t border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400">
                        ${subject.summary}
                    </div>
                </div>
            `;
            return el;
        },

        updateProgress() {
            const completed = AppState.subjects.filter(s => s.completed).length;
            const total = AppState.subjects.length;
            const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;

            this.dom.progressBar.style.width = `${percentage}%`;
            this.dom.progressText.textContent = `${percentage}%`;
            
            if (total > 0) {
                this.dom.summaryText.textContent = `Voc√™ completou ${completed} de ${total} t√≥picos.`;
            }

            this.dom.progressBar.classList.toggle('from-emerald-500', percentage === 100);
            this.dom.progressBar.classList.toggle('to-green-600', percentage === 100);
        },

        loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark' || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
                this.dom.themeToggle.textContent = '‚òÄÔ∏è';
            } else {
                this.dom.themeToggle.textContent = 'üåô';
            }
        },

        setSignature() {
            this.dom.signature.innerHTML = `<p>Feito por HAlexandre ¬© ${new Date().getFullYear()}</p>`;
        }
    };

    // --- M√≥dulo de Eventos ---
    const Events = {
        setup() {
            UI.dom.subjectsContainer.addEventListener('click', (e) => {
                const cardHeader = e.target.closest('.card-header');
                if (!cardHeader) return;

                const cardItem = cardHeader.closest('.card-item');
                const index = parseInt(cardItem.dataset.index, 10);
                
                if (e.target.closest('.checkbox-container')) {
                    // Clicou no checkbox
                    AppState.subjects[index].completed = !AppState.subjects[index].completed;
                    cardHeader.classList.toggle('bg-slate-50', AppState.subjects[index].completed);
                    cardHeader.classList.toggle('dark:bg-slate-700/50', AppState.subjects[index].completed);
                    cardHeader.querySelector('.checkbox-container').innerHTML = AppState.subjects[index].completed ? UI.icons.completed : UI.icons.pending;
                    cardHeader.querySelector('span').classList.toggle('line-through', AppState.subjects[index].completed);
                    cardHeader.querySelector('span').classList.toggle('text-slate-400', AppState.subjects[index].completed);
                    cardHeader.querySelector('span').classList.toggle('dark:text-slate-500', AppState.subjects[index].completed);
                    UI.updateProgress();
                } else {
                    // Clicou para expandir/recolher
                    AppState.subjects[index].expanded = !AppState.subjects[index].expanded;
                    const summary = cardItem.querySelector('.summary-content');
                    const chevron = cardItem.querySelector('.chevron-container');
                    summary.classList.toggle('expanded');
                    chevron.classList.toggle('rotate-180');
                    if (summary.classList.contains('expanded')) {
                        summary.style.maxHeight = summary.scrollHeight + 'px';
                    } else {
                        summary.style.maxHeight = '0';
                    }
                }
                AppState.save();
            });

            UI.dom.themeToggle.addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                const isDark = document.documentElement.classList.contains('dark');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
                UI.dom.themeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
            });
        }
    };

    // --- Inicializa√ß√£o ---
    document.addEventListener('DOMContentLoaded', () => {
        AppState.load();
        UI.renderSubjects();
        UI.loadTheme();
        UI.setSignature();
        Events.setup();
    });

    </script>
</body>
</html>
